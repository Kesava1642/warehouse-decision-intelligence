<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Generate an incident-ready Business Continuity Plan from a short intake — role-based, usable under pressure.">
    <title>Kalvra | BCP Generator</title>
    <link rel="icon" type="image/svg+xml" href="../assets/favicon.svg">
    <meta property="og:title" content="Kalvra | BCP Generator">
    <meta property="og:description" content="Generate an incident-ready Business Continuity Plan from a short intake.">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="en_GB">
    <link rel="stylesheet" href="../assets/styles.css">
    <style>
        .bcp-generator-section { padding: var(--spacing-2xl) 0; }
        .bcp-generator-layout {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--spacing-2xl);
            max-width: 1400px;
            margin: 0 auto;
        }
        @media (min-width: 900px) {
            .bcp-generator-layout { grid-template-columns: 380px 1fr; }
        }
        .bcp-form-column {
            background-color: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            height: fit-content;
        }
        .bcp-form-column h2 { margin-top: 0; margin-bottom: var(--spacing-lg); font-size: 1.25rem; }
        .bcp-form-group { margin-bottom: var(--spacing-md); }
        .bcp-form-group label { display: block; font-weight: 500; margin-bottom: 0.25rem; font-size: 0.9375rem; }
        .bcp-form-group input[type="text"],
        .bcp-form-group input[type="number"],
        .bcp-form-group select { width: 100%; padding: 0.5rem 0.75rem; border: 1px solid var(--border); border-radius: var(--border-radius); font-size: 0.9375rem; }
        .bcp-form-group .help { font-size: 0.8125rem; color: var(--text-muted); margin-top: 0.25rem; }
        .bcp-form-group .checkbox-group { display: flex; flex-wrap: wrap; gap: 0.5rem 1rem; }
        .bcp-form-group .checkbox-group label { display: flex; align-items: center; gap: 0.35rem; font-weight: 400; cursor: pointer; }
        .bcp-form-group .checkbox-group input { margin: 0; }
        .bcp-form-actions { margin-top: var(--spacing-xl); display: flex; gap: var(--spacing-md); flex-wrap: wrap; }
        .bcp-preview-column { min-width: 0; }
        .bcp-preview-wrap { position: sticky; top: 1rem; }
        .bcp-preview {
            background: #fff;
            border: 1px solid var(--border);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            max-width: 720px;
            box-shadow: var(--shadow-sm);
            color: #111;
        }
        .bcp-preview h1 { font-size: 1.25rem; margin: 0 0 0.5rem 0; color: #0b1220; }
        .bcp-preview h2 { font-size: 1rem; margin: 1rem 0 0.5rem 0; color: #0b1220; }
        .bcp-preview h3 { font-size: 0.9375rem; margin: 0.75rem 0 0.25rem 0; color: #0b1220; }
        .bcp-preview p { margin: 0.25rem 0; font-size: 0.8125rem; }
        .bcp-preview table { width: 100%; border-collapse: collapse; font-size: 0.8125rem; margin-top: 0.5rem; border: 1px solid #cbd5e1; }
        .bcp-preview th, .bcp-preview td { padding: 0.35rem 0.5rem; text-align: left; border: 1px solid #cbd5e1; color: #111; }
        .bcp-preview th { background-color: #f1f5f9; font-weight: 600; color: #0b1220; }
        .bcp-preview ul { margin: 0.35rem 0; padding-left: 1.25rem; }
        .bcp-preview li { margin-bottom: 0.2rem; }
        .bcp-preview-placeholder { color: #334155; font-size: 0.9375rem; padding: var(--spacing-xl); text-align: center; }
        .bcp-print-actions { margin-bottom: var(--spacing-md); }
        .bcp-print-hint { font-size: 0.8125rem; color: var(--text-muted); margin-bottom: 0.5rem; max-width: 360px; }
        .bcp-print-banner { display: none; }
    </style>
</head>
<body>
    <div id="site-header"></div>

    <main>
        <section class="page-header">
            <div class="container">
                <h1>BCP Generator</h1>
                <p class="page-intro">Complete the intake below and generate a lean, incident-ready Business Continuity Plan. Use Print / Save as PDF to keep a copy.</p>
            </div>
        </section>

        <section class="bcp-explainer-section">
            <div class="container">
                <div class="bcp-explainer">
                    <h2>What is a Business Continuity Plan (BCP)?</h2>
                    <p>A Business Continuity Plan (BCP) is a practical, incident-ready plan that helps a business keep critical operations running during disruption. It defines who leads, what to do in the first hour, how to communicate, and how to recover safely.</p>
                    <h3>Who this is for</h3>
                    <ul>
                        <li>Warehouses and logistics operations</li>
                        <li>Retail stores and multi-site teams</li>
                        <li>B2B service businesses and offices</li>
                        <li>SMEs that rely on a small team or single location</li>
                        <li>Operations managers who need clear steps under pressure</li>
                    </ul>
                    <h3>What this generator produces</h3>
                    <ul>
                        <li>A lean 2–3 page BCP you can print or save as a PDF</li>
                        <li>Role-based governance and escalation (Incident Lead, Ops Lead, IT/Systems, People/Safety, Comms)</li>
                        <li>Scenario runbooks for common disruptions (fire, flood, power loss, IT outage, health outbreak, site/hub shutdown)</li>
                        <li>First 60-minute checklist (safety, control, communications)</li>
                        <li>Communications plan (who to inform, channels, update cadence)</li>
                        <li>Return-to-normal checklist (restore, validate, backlog, lessons learned)</li>
                    </ul>
                    <p class="bcp-explainer-tip">Tip: When you print/save as PDF, turn OFF browser "Headers and footers" to avoid showing local file paths.</p>
                </div>
            </div>
        </section>

        <section class="bcp-generator-section content-section">
            <div class="container">
                <div class="bcp-generator-layout">
                    <div class="bcp-form-column no-print">
                        <h2>Intake</h2>
                        <form id="bcp-intake-form">
                            <div class="bcp-form-group">
                                <label for="business-name">1. Business name</label>
                                <input type="text" id="business-name" name="businessName" placeholder="e.g. Acme Logistics Ltd">
                            </div>
                            <div class="bcp-form-group">
                                <label for="business-type">2. Business type</label>
                                <select id="business-type" name="businessType">
                                    <option value="">— Select —</option>
                                    <option value="Warehouse">Warehouse</option>
                                    <option value="Retail">Retail</option>
                                    <option value="B2B Services">B2B Services</option>
                                    <option value="Office">Office</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            <div class="bcp-form-group">
                                <label for="primary-location">3. Primary location</label>
                                <input type="text" id="primary-location" name="primaryLocation" placeholder="e.g. Birmingham, UK">
                            </div>
                            <div class="bcp-form-group">
                                <label for="number-of-sites">4. Number of sites</label>
                                <input type="number" id="number-of-sites" name="numberOfSites" min="1" placeholder="1">
                            </div>
                            <div class="bcp-form-group">
                                <label for="alternative-hub">5. Nearest alternative hub/site <span class="help">(optional)</span></label>
                                <input type="text" id="alternative-hub" name="alternativeHub" placeholder="e.g. Manchester depot">
                            </div>
                            <div class="bcp-form-group">
                                <label for="department">6. Department</label>
                                <select id="department" name="department">
                                    <option value="">— Select —</option>
                                    <option value="Operations">Operations</option>
                                    <option value="IT">IT</option>
                                    <option value="Customer Service">Customer Service</option>
                                    <option value="Facilities">Facilities</option>
                                    <option value="Finance">Finance</option>
                                    <option value="HR/People">HR/People</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            <div class="bcp-form-group">
                                <label for="your-role">7. Your role</label>
                                <input type="text" id="your-role" name="yourRole" placeholder="e.g. Manager, Supervisor, Team Lead">
                            </div>
                            <div class="bcp-form-group">
                                <label for="operating-model">8. Primary operating model</label>
                                <select id="operating-model" name="operatingModel">
                                    <option value="">— Select —</option>
                                    <option value="Single site">Single site</option>
                                    <option value="Multi-site">Multi-site</option>
                                    <option value="Remote-first">Remote-first</option>
                                    <option value="Mixed">Mixed</option>
                                </select>
                            </div>
                            <div class="bcp-form-group">
                                <label for="critical-function">9. Primary critical function</label>
                                <select id="critical-function" name="criticalFunction">
                                    <option value="">— Select —</option>
                                    <option value="Fulfilment/Dispatch">Fulfilment/Dispatch</option>
                                    <option value="Retail sales">Retail sales</option>
                                    <option value="Customer support">Customer support</option>
                                    <option value="Production">Production</option>
                                    <option value="Professional services">Professional services</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            <div class="bcp-form-group">
                                <label for="contact-method">10. Primary contact method during incidents</label>
                                <select id="contact-method" name="contactMethod">
                                    <option value="">— Select —</option>
                                    <option value="Phone">Phone</option>
                                    <option value="Email">Email</option>
                                    <option value="Teams/Slack">Teams/Slack</option>
                                    <option value="WhatsApp/SMS">WhatsApp/SMS</option>
                                </select>
                            </div>
                            <div class="bcp-form-group">
                                <label for="escalation-role">11. Escalation contact (role)</label>
                                <input type="text" id="escalation-role" name="escalationRole" placeholder="e.g. Duty Manager, Director, Site Lead">
                            </div>
                            <div class="bcp-form-actions">
                                <button type="submit" class="btn btn-primary">Generate BCP Preview</button>
                                <button type="button" id="bcp-reset" class="btn btn-secondary">Reset</button>
                            </div>
                        </form>
                    </div>

                    <div class="bcp-preview-column">
                        <div class="bcp-preview-wrap">
                            <div class="bcp-print-actions no-print">
                                <p class="bcp-print-hint">In the print dialog, turn <strong>off</strong> Headers and footers to remove local file paths.</p>
                                <button type="button" id="bcp-print-btn" class="btn btn-primary" disabled>Print / Save as PDF</button>
                            </div>
                            <div class="bcp-preview" id="bcp-preview">
                                <div class="bcp-preview-placeholder" id="bcp-preview-placeholder">Complete the intake and click Generate BCP Preview to see your plan here.</div>
                                <div id="bcp-preview-content" style="display: none;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <div id="site-footer"></div>

    <script src="../assets/app.js"></script>
    <script src="../assets/header.js"></script>
    <script src="../assets/footer.js"></script>
    <script src="../assets/nav.js"></script>
    <script>
(function() {
    'use strict';

    var GOVERNANCE_ROLES = [
        { role: 'Incident Lead', responsibilities: 'Overall coordination, activation and stand-down.' },
        { role: 'Operations Lead', responsibilities: 'Critical activities, resources and recovery.' },
        { role: 'IT/Systems Lead', responsibilities: 'Systems, data and tech recovery.' },
        { role: 'People/Safety Lead', responsibilities: 'Staff welfare, safety and attendance.' },
        { role: 'Communications Lead', responsibilities: 'Internal and external messaging, approvals.' },
        { role: 'Supplier/Vendor Lead', responsibilities: 'Key supplier contact and alternatives.' }
    ];

    var RUNBOOKS = [
        { name: 'Fire / Evacuation', situation: 'Fire or evacuation order affects site safety and access.', changeImpact: 'Site evacuated; operations halted until all-clear.', triggers: ['Fire alarm or confirmed fire.', 'Smoke or evacuation order from authority.', 'Muster point headcount required.'], operationalActions: ['Evacuate per procedure; do not re-enter until cleared.', 'Incident Lead confirms activation level (L1/L2/L3).', 'Operations Lead secures critical assets only if safe to do so.', 'No re-entry until authority confirms.', 'Assess damage and plan return.', 'Resume operations only when site declared safe.'], peopleSafetyActions: ['People/Safety Lead leads muster and headcount.', 'Account for all staff and visitors.', 'Welfare check; support anyone affected.', 'Follow return-to-work guidance.'], docComms: ['Communications Lead notifies staff per plan.', 'External comms only if required; approve via Incident Lead.', 'Log decisions and actions.', 'Brief leadership when safe.'], recovery: ['All-clear from authority.', 'Site safe; resume operations.', 'Close incident log; lessons learned.'], raci: { R: 'Operations Lead', A: 'Incident Lead', C: 'People/Safety Lead, Communications Lead', I: 'IT/Systems Lead, Supplier/Vendor Lead' } },
        { name: 'Flood / Water ingress', situation: 'Flooding or major water ingress affects site or equipment.', changeImpact: 'Area unusable; risk to equipment and stock; possible electrical hazard.', triggers: ['Flooding or major leak reported.', 'Water affecting operations or critical areas.', 'Electrical isolation may be required.'], operationalActions: ['Contain source if safe; isolate electrical in affected area.', 'Protect equipment and stock; move if possible.', 'Operations Lead coordinates; Facilities support.', 'Drying and damage assessment within 24h.', 'Relocate critical function if area out of use.'], peopleSafetyActions: ['People/Safety Lead ensures no one at risk.', 'Avoid standing water; do not use affected electrical.', 'Welfare of staff in affected area.'], docComms: ['Notify Incident Lead immediately.', 'Communications Lead updates if customer-facing impact.', 'Document extent and actions.', 'Inform IT/Systems Lead if systems affected.'], recovery: ['Area dry and safe; systems checked.', 'Return to normal; validate equipment.', 'Lessons learned.'], raci: { R: 'Operations Lead', A: 'Incident Lead', C: 'People/Safety Lead, IT/Systems Lead', I: 'Communications Lead, Supplier/Vendor Lead' } },
        { name: 'Power outage', situation: 'Loss of mains power affecting site or critical systems.', changeImpact: 'Systems and equipment down; limited run-on time.', triggers: ['Mains power lost.', 'Critical systems or safety affected.', 'No ETA from utility.'], operationalActions: ['IT/Systems Lead preserve data and shut down safely if needed.', 'Operations Lead assess run-on time and critical function.', 'Contact utility for ETA; use backup power if available.', 'Prioritise critical function; defer non-critical work.', 'Pre-approved backup or alternate site if defined.'], peopleSafetyActions: ['No unsafe use of equipment.', 'Backup lighting if available; safe movement.', 'People/Safety Lead if evacuation needed.'], docComms: ['Communications Lead brief staff.', 'External update if SLA impact.', 'Log outage and restoration.', 'Notify Incident Lead and leadership.'], recovery: ['Power restored.', 'Systems validated; resume full operations.', 'Incident log closed.'], raci: { R: 'IT/Systems Lead', A: 'Incident Lead', C: 'Operations Lead, Communications Lead', I: 'People/Safety Lead, Supplier/Vendor Lead' } },
        { name: 'IT/Server/Network outage', situation: 'Critical IT system, server, or network unavailable.', changeImpact: 'Systems down; manual workarounds may apply.', triggers: ['Critical system or server down.', 'Network outage affecting access.', 'Data or service impact confirmed.'], operationalActions: ['IT/Systems Lead diagnose and contain.', 'Incident Lead set L1/L2/L3.', 'Manual workarounds where defined.', 'Restore from backup or failover; vendor support if needed.', 'Validate data and access before stand-down.'], peopleSafetyActions: ['People/Safety Lead only if safety system affected.', 'Otherwise N/A for this scenario.'], docComms: ['Communications Lead inform staff and customers if service impacted.', 'Document outage and resolution.', 'Approve external comms via Incident Lead.'], recovery: ['Systems restored and tested.', 'Data reconciled.', 'Lessons learned.'], raci: { R: 'IT/Systems Lead', A: 'Incident Lead', C: 'Operations Lead, Communications Lead', I: 'People/Safety Lead, Supplier/Vendor Lead' } },
        { name: 'Health outbreak / virus impact (staff availability)', situation: 'Significant staff absence due to illness or outbreak.', changeImpact: 'Below minimum staffing for critical function.', triggers: ['Significant absenteeism reported.', 'Outbreak or virus impact declared.', 'Minimum staffing at risk.'], operationalActions: ['Operations Lead assess minimum staffing and gaps.', 'Prioritise critical function only.', 'Redeploy staff where possible.', 'Defer non-critical work.', 'Pre-agreed temps or agency if policy allows.'], peopleSafetyActions: ['People/Safety Lead: welfare and hygiene guidance.', 'Return-to-work guidance.', 'Support affected staff.'], docComms: ['Communications Lead: internal updates.', 'External if service reduced; approve via Incident Lead.', 'Log decisions and staffing levels.'], recovery: ['Staffing levels restored.', 'Backlog cleared.', 'Lessons learned.'], raci: { R: 'Operations Lead', A: 'Incident Lead', C: 'People/Safety Lead, Communications Lead', I: 'IT/Systems Lead, Supplier/Vendor Lead' } },
        { name: 'Site/hub shutdown (one department or one station/hub unavailable)', situation: 'One department, station, or hub unavailable (access or local incident).', changeImpact: 'Capacity or location reduced; reroute or alternate hub required.', triggers: ['Site or hub access lost.', 'One department or station unavailable.', 'Local incident or hazard.'], operationalActions: ['Incident Lead confirm L1/L2/L3.', 'Reroute to nearest hub or alternative station if defined.', 'Run from alternative hub/site.', 'Temporary manual process where needed.', 'Supplier/Vendor Lead if supply chain affected.'], peopleSafetyActions: ['People/Safety Lead if injury or hazard.', 'Otherwise Operations Lead for site control.'], docComms: ['Communications Lead notify affected staff and customers.', 'Document reroute and handback.', 'Approve external comms via Incident Lead.'], recovery: ['Original site/department available.', 'Handback and validate.', 'Close incident log.'], raci: { R: 'Operations Lead', A: 'Incident Lead', C: 'Communications Lead, Supplier/Vendor Lead', I: 'People/Safety Lead, IT/Systems Lead' } }
    ];

    function getFormData() {
        var form = document.getElementById('bcp-intake-form');
        return {
            businessName: (form.querySelector('#business-name') || {}).value || '',
            businessType: (form.querySelector('#business-type') || {}).value || '',
            primaryLocation: (form.querySelector('#primary-location') || {}).value || '',
            numberOfSites: (form.querySelector('#number-of-sites') || {}).value || '1',
            alternativeHub: (form.querySelector('#alternative-hub') || {}).value || '',
            department: (form.querySelector('#department') || {}).value || '',
            yourRole: (form.querySelector('#your-role') || {}).value || '',
            operatingModel: (form.querySelector('#operating-model') || {}).value || '',
            criticalFunction: (form.querySelector('#critical-function') || {}).value || '',
            contactMethod: (form.querySelector('#contact-method') || {}).value || '',
            escalationRole: (form.querySelector('#escalation-role') || {}).value || ''
        };
    }

    function escapeHtml(s) { return String(s).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;'); }

    function renderPreview(data) {
        var businessSite = data.businessName || data.primaryLocation ? [data.businessName, data.primaryLocation].filter(Boolean).join(' — ') : '—';
        var contactLine = data.contactMethod ? 'Primary contact during incidents: ' + data.contactMethod + '.' : '';
        var escalationLine = data.escalationRole ? 'Escalation (role): ' + escapeHtml(data.escalationRole) + '.' : '';
        var dateGenerated = new Date().toLocaleDateString('en-GB', { day: 'numeric', month: 'short', year: 'numeric' });
        var printBanner = '<div class="bcp-print-banner">' +
            '<p class="bcp-print-banner-title">Business Continuity Plan (BCP)</p>' +
            '<p class="bcp-print-banner-meta">' + escapeHtml(businessSite) + ' &nbsp;|&nbsp; Version v1.0 &nbsp;|&nbsp; ' + escapeHtml(dateGenerated) + ' &nbsp;|&nbsp; Prepared by: Incident Lead</p>' +
            '</div>';

        var bcpSummary = '<table class="bcp-summary-table"><thead><tr><th>Field</th><th>Value</th></tr></thead><tbody>' +
            '<tr><td>Business type</td><td>' + escapeHtml(data.businessType || '—') + '</td></tr>' +
            '<tr><td>Department</td><td>' + escapeHtml(data.department || '—') + '</td></tr>' +
            '<tr><td>Role</td><td>' + escapeHtml(data.yourRole || '—') + '</td></tr>' +
            '<tr><td>Operating model</td><td>' + escapeHtml(data.operatingModel || '—') + '</td></tr>' +
            '<tr><td>Primary contact method</td><td>' + escapeHtml(data.contactMethod || '—') + '</td></tr>' +
            '<tr><td>Escalation role</td><td>' + escapeHtml(data.escalationRole || '—') + '</td></tr></tbody></table>';

        var docControl = '<table><thead><tr><th>Field</th><th>Value</th></tr></thead><tbody>' +
            '<tr><td>Business / Site</td><td>' + escapeHtml(businessSite) + '</td></tr>' +
            '<tr><td>BCP Owner (Role)</td><td>Incident Lead</td></tr>' +
            '<tr><td>Version</td><td>v1.0</td></tr>' +
            '<tr><td>Review Cycle</td><td>Quarterly</td></tr>' +
            '<tr><td>Approved By (Role)</td><td>—</td></tr></tbody></table>';

        var triggers = '• Safety risk<br>• Site inaccessible<br>• Critical system outage<br>• Staffing below minimum<br>• Regulatory/customer impact';
        var activationTable = '<table><thead><tr><th>Level</th><th>Description</th></tr></thead><tbody>' +
            '<tr><td>L1</td><td>Minor — contained impact</td></tr>' +
            '<tr><td>L2</td><td>Moderate — multi-site or major supplier</td></tr>' +
            '<tr><td>L3</td><td>Major — widespread or safety-critical</td></tr></tbody></table>';

        var govRows = GOVERNANCE_ROLES.map(function(r) { return '<tr><td>' + escapeHtml(r.role) + '</td><td>' + escapeHtml(r.responsibilities) + '</td></tr>'; }).join('');
        var governance = '<table><thead><tr><th>Role</th><th>Responsibilities</th></tr></thead><tbody>' + govRows + '</tbody></table>';

        function bulletList(arr) {
            return '<ul>' + (arr || []).map(function(s) { return '<li>' + escapeHtml(s) + '</li>'; }).join('') + '</ul>';
        }
        function raciTable(raci) {
            if (!raci) return '';
            return '<table class="runbook-raci"><thead><tr><th>Responsible</th><th>Accountable</th><th>Consulted</th><th>Informed</th></tr></thead><tbody><tr><td>' + escapeHtml(raci.R || '—') + '</td><td>' + escapeHtml(raci.A || '—') + '</td><td>' + escapeHtml(raci.C || '—') + '</td><td>' + escapeHtml(raci.I || '—') + '</td></tr></tbody></table>';
        }
        var runbooksHtml = '';
        RUNBOOKS.forEach(function(rb) {
            runbooksHtml += '<div class="runbook-card">' +
                '<h3>' + escapeHtml(rb.name) + '</h3>' +
                '<p class="runbook-label">Situation</p><p>' + escapeHtml(rb.situation) + '</p>' +
                '<p class="runbook-label">Change / Impact</p><p>' + escapeHtml(rb.changeImpact) + '</p>' +
                '<p class="runbook-label">Triggers</p>' + bulletList(rb.triggers) +
                '<p class="runbook-label">Actions Required</p>' +
                '<p class="runbook-sublabel">Operational Actions</p>' + bulletList(rb.operationalActions) +
                '<p class="runbook-sublabel">People &amp; Safety Actions</p>' + bulletList(rb.peopleSafetyActions) +
                '<p class="runbook-sublabel">Documentation &amp; Communication</p>' + bulletList(rb.docComms) +
                '<p class="runbook-sublabel">Recovery / Return to Normal</p>' + bulletList(rb.recovery) +
                raciTable(rb.raci) +
                '</div>';
        });

        var timeCost = '<ul>' +
            '<li><strong>Time:</strong> Prioritise critical function; defer non-critical work; reroute to nearest hub; temporary manual process.</li>' +
            '<li><strong>Cost:</strong> Limit overtime approvals to Incident Lead; use pre-approved vendors; cap emergency spend (e.g. £X — set locally); track downtime hours.</li></ul>';

        var returnNormal = '<ul><li>Restore when stand-down criteria met.</li><li>Validate systems and key processes.</li><li>Clear backlog; confirm SLA normal.</li><li>Close incident log; capture lessons learned.</li></ul>';
        var reviewTesting = '<ul><li>Annual test (table-top or live) of key scenarios.</li><li>Update BCP after major change.</li><li>Keep roles and contact details current.</li></ul>';

        var html = printBanner +
            '<h1>Business Continuity Plan (BCP) — Lean (Incident-Ready)</h1>' +
            '<h2>1) Document Control</h2>' + docControl +
            '<h2>2) Purpose &amp; Activation</h2><p><strong>Purpose:</strong> Short, executable plan to maintain or restore critical activities during a disruption. Activation when triggers below are met.</p>' +
            '<p><strong>Activation triggers:</strong></p><p>' + triggers + '</p>' +
            '<p><strong>Activation Levels</strong></p>' + activationTable +
            (contactLine ? '<p>' + contactLine + '</p>' : '') +
            (escalationLine ? '<p>' + escalationLine + '</p>' : '') +
            '<h2>3) Governance</h2>' + governance +
            '<h2>4) BCP Summary</h2>' + bcpSummary +
            '<h2>5) Scenario Runbooks</h2>' + runbooksHtml +
            '<h2>6) Time &amp; Cost Controls</h2>' + timeCost +
            '<h2>7) Return to Normal</h2>' + returnNormal +
            '<h2>8) Review &amp; Testing</h2>' + reviewTesting;

        return html;
    }

    function showPreview(html) {
        var placeholder = document.getElementById('bcp-preview-placeholder');
        var content = document.getElementById('bcp-preview-content');
        placeholder.style.display = 'none';
        content.style.display = 'block';
        content.innerHTML = html;
        document.getElementById('bcp-print-btn').disabled = false;
    }

    function hidePreview() {
        document.getElementById('bcp-preview-placeholder').style.display = 'block';
        document.getElementById('bcp-preview-content').style.display = 'none';
        document.getElementById('bcp-preview-content').innerHTML = '';
        document.getElementById('bcp-print-btn').disabled = true;
    }

    document.getElementById('bcp-intake-form').addEventListener('submit', function(e) {
        e.preventDefault();
        showPreview(renderPreview(getFormData()));
    });

    document.getElementById('bcp-reset').addEventListener('click', function() {
        document.getElementById('bcp-intake-form').reset();
        hidePreview();
    });

    document.getElementById('bcp-print-btn').addEventListener('click', function() { window.print(); });
})();
    </script>
</body>
</html>
